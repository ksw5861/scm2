<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.yedam.scm.order.mapper.SalesMarginMapper">

  <sql id="Cols">
    SALE_PROD_ID, SALE_PROD_NAME, SALE_PROD_PRICE,
    PROD_UNIT_PRICE, SALE_MARGIN, SORT_NO, POS_SHOW_YN,
    CREATE_DT, UPDATE_DT
  </sql>


<insert id="insertSalesMargin" parameterType="com.yedam.scm.vo.SalesMarginVO">
  INSERT INTO SALES_MARGIN (
    SALE_PROD_ID, SALE_PROD_NAME, SALE_PROD_PRICE,
    PROD_UNIT_PRICE, SALE_MARGIN, SORT_NO, POS_SHOW_YN,
    CREATE_DT, UPDATE_DT
  )
  VALUES (
    #{saleProdId},
    #{saleProdName},
    #{saleProdPrice},
    #{prodUnitPrice},
    #{saleMargin},
    #{sortNo},    
    #{posShowYn},
    SYSDATE, SYSDATE
  )
</insert>


<update id="updateSalesMargin" parameterType="com.yedam.scm.vo.SalesMarginVO">
  UPDATE SALES_MARGIN
  SET
    SALE_PROD_NAME  = #{saleProdName},
    SALE_PROD_PRICE = #{saleProdPrice},
    PROD_UNIT_PRICE = #{prodUnitPrice},
    SALE_MARGIN     = #{saleMargin},
    SORT_NO         = #{sortNo},  
    POS_SHOW_YN     = #{posShowYn},
    UPDATE_DT       = SYSDATE
  WHERE SALE_PROD_ID = #{saleProdId}
</update>


  <!-- 목록 (POS 순서대로) -->
  <select id="selectSalesMarginList" resultType="com.yedam.scm.vo.SalesMarginVO">
    SELECT <include refid="Cols"/>
      FROM SALES_MARGIN
     ORDER BY SORT_NO
  </select>

  <!-- 단건 조회 -->
  <select id="selectSalesMarginById" parameterType="string" resultType="com.yedam.scm.vo.SalesMarginVO">
    SELECT <include refid="Cols"/>
      FROM SALES_MARGIN
     WHERE SALE_PROD_ID = #{saleProdId}
  </select>

  

  <!-- 삭제 -->
  <delete id="deleteSalesMargin" parameterType="string">
    DELETE FROM SALES_MARGIN WHERE SALE_PROD_ID = #{saleProdId}
  </delete>




  
</mapper>
